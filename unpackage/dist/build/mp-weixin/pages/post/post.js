"use strict";const t=require("../../common/vendor.js"),e={components:{},data:()=>({cover:"/static/null.svg",text:"",title:"",cid:"",commentsList:[],commentsFlag:!0}),onPullDownRefresh(){console.log("触发了下拉刷新"),setTimeout((()=>{t.index.stopPullDownRefresh()}),2e3)},methods:{onClick(t){console.log(t)},actionsClick(e){t.index.showToast({title:e,icon:"none"})},getCommentsList(e){t.index.request({url:"https://ehre.icehomura.com/api/getComments",method:"get",dataType:"json",data:{cid:e},success:t=>{0!=t.data.data?this.commentsList=t.data.data:this.commentsFlag=!1}})},getAvatar(t){var e=t.indexOf("@");return"http://q1.qlogo.cn/g?b=qq&nk="+t.substring(0,e)+"&s=100"},timestampToDate(t){var e=new Date(1e3*t);return e.getFullYear()+"年"+("0"+(e.getMonth()+1)).slice(-2)+"月"+("0"+e.getDate()).slice(-2)+"日"+" "+(("0"+e.getHours()).slice(-2)+":"+("0"+e.getMinutes()).slice(-2)+":"+("0"+e.getSeconds()).slice(-2))}},onLoad:function(t){console.log(t),this.title=t.title;var e=t.text;this.getCommentsList(t.cid);var o=e.split(";");this.text=o[1],this.cover=o[2],null==o[2]&&(this.cover="/static/null.svg",this.text=o[0])}};if(!Array){(t.resolveComponent("uni-icons")+t.resolveComponent("uni-card")+t.resolveComponent("uni-section"))()}Math||((()=>"../../components/uni-icons/uni-icons.js")+(()=>"../../components/uni-card/uni-card.js")+(()=>"../../components/uni-section/uni-section.js"))();const o=t._export_sfc(e,[["render",function(e,o,s,n,i,c){return t.e({a:t.t(i.text),b:t.p({type:"redo",size:"18",color:"#999"}),c:t.o((t=>c.actionsClick("未设置微信openid"))),d:t.p({type:"heart",size:"18",color:"#999"}),e:t.o((t=>c.actionsClick("点赞成功"))),f:t.p({type:"chatbubble",size:"18",color:"#999"}),g:t.o((t=>c.actionsClick("暂无此功能"))),h:t.o(c.onClick),i:t.p({cover:i.cover}),j:i.commentsFlag},i.commentsFlag?{k:t.f(i.commentsList,((e,o,s)=>({a:t.t(e.text),b:o,c:"0e3c6944-6-"+s+",0e3c6944-5",d:t.p({title:e.author,isFull:!0,"sub-title":c.timestampToDate(e.created),thumbnail:c.getAvatar(e.mail),border:!1})})))}:{},{l:t.p({title:"评论",margin:"5px 20px",spacing:"5px 10px 20px 10px"}),m:t.p({title:i.title,type:"line"})})}]]);wx.createPage(o);
